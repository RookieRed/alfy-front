<div fxLayout="row" fxLayoutAlign="center center" class="profile-view-container">
  <div fxLayout="column" class="container" fxFlex="60" style="background-color: white;">
    <div class="loading-container" fxFlex="100" fxLayoutAlign="center center">
      <mat-progress-spinner *ngIf="isLoading" mode="indeterminate" diameter="100"></mat-progress-spinner>
    </div>

    <div *ngIf="!isLoading">
      <div class="pictures">
        <div class="backround-picture" [ngStyle]="{'background-image': 'url('+ pathCoverPicture +')'}">
          <app-profile-picture-element [src]="pathProfilePicture"></app-profile-picture-element>
        </div>

        <div fxLayout="column">
          <div fxFlex="100%" fxLayoutAlign="space-between start" fxAlign="column">
            <div class="title" fxFlex="65%">
              <h1>{{user.firstName}} {{user.lastName}}</h1>
            </div>
            <div class="social-media" fxFlex="35%">
              <a href='{{ user.facebook }}' target="_blank" *ngIf="user.facebook?.length;">
                <img src="/assets/img/about/logoFacebook.png" alt="Lien Facebook" width="38" height="38" hspace="10">
              </a>
              <a href='{{ user.instagram }}' target="_blank" *ngIf="user.instagram?.length;">
                <img src="/assets/img/about/logoInstagram.png" alt="Lien Instagram" width="38" height="38"
                     hspace="10"> </a>
              <a href='{{ user.twitter }}' target="_blank" *ngIf="user.twitter?.length;">
                <img src="/assets/img/about/logoTwitter.png" alt="Lien Twitter" width="38" height="38" hspace="10"> </a>
              <a href='mailto:{{ user.email }}' *ngIf="user.email?.length;">
                <img src="/assets/img/about/logoEmail.png" alt="Lien Email" width="38"
                     height="38" hspace="10"> </a>
              <a href='{{ user.linkedIn }}' target="_blank" *ngIf="user.linkedIn?.length;">
                <img src="/assets/img/about/logoLinkedin.png" alt="Lien Linkedin"
                     width="38" height="38" hspace="10"> </a>
              <a href='{{ user.personalWebsite }}' target="_blank" *ngIf="user.personalWebsite?.length;">
                <img src="/assets/img/about/logoWebsite.png" alt="Lien Site Web"
                     width="38" height="38" hspace="10"> </a>
            </div>
          </div>
          <div class="title" fxLayout="row" fxLayoutAlign="space-between center">
            <h2>{{user.jobTitle}}</h2>
            <h2>{{age}}</h2>
          </div>
        </div>

      </div>

      <div flex="1" class="informations" #actions>
        <div class="title-info">
          <h2>Parcours</h2>
        </div>
        <div class="content timeline">
          <div class="entry" *ngIf="user.studies?.length">
            <div class="body" *ngFor="let s of user.studies">
              <h3>{{s.type}} {{s.university.name}}</h3>
              <p>{{s.comment}}</p>
            </div>
          </div>
          <div fxFlex="100%" fxLayoutAlign="center center" class="empty-list-message" *ngIf="!user.studies?.length">
            <span>Rien à voir ici.</span>
          </div>
        </div>

        <div class="title-info">
          <h2>Projets / Accomplissements</h2>
        </div>
        <div class="content timeline">
          <div class="entry" *ngIf="user.projects?.length">
            <div class="body" *ngFor="let p of user.projects">
              <h3>{{p.title}}</h3>
              <p>{{p.details}}</p>
            </div>
          </div>
          <div fxFlex="100%" fxLayoutAlign="center center" class="empty-list-message" *ngIf="!user.projects?.length">
            <span>Aucun projet renseigné.</span>
          </div>
        </div>
      </div>

      <div class="action-buttons" fxLayoutAlign="center center" *ngIf="canUpdate()">
        <a color="primary" mat-button mat-raised-button routerLink="/profile/edit">Modifier le profil</a>
      </div>
    </div>
  </div>
</div>
